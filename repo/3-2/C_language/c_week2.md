# 자료형

C언어와 B언어를 가르는 C언어의 특징이다. 

길이와 해석방법이 중요하니까 그 부분을 집중해서 들으면 될 것 같다. 식별자부분도 중요하니까 잘 보자.

<br>

#### 자료형의 정의 (Definition of Data type)

> 일정 길이의 메모리 속에 저장된 정보를 해석하는 방법이다.

컴퓨터에서 자료는 숫자다. 컴퓨터는 그리고 전기 전자식 계산기다. 그래서 상태가 0/1 두가지 밖에 없다. 0은 전기가 꺼진 상태, 1은 전기가 켜진 상태이다. (스위치 on/off) 따라서 1bit라는건 스위치가 하나밖에 없다라는 뜻과 같다. 이렇게 되면 표현을 몇개나 할 수 있는지는 2^n으로 구할 수 있다. 

32bit는 2^32를 표현할 수 있는건데, 이거 계산해보면 4GB가 나오는데 이 말은 즉 32bit application이면, 4GB밖에 사용못하는 것이다. 64bit를 사용하는 이유인가보다. 결국 bit수를 보면 표현범위가 정해진다는 것이다. 2^n-1의 수 까지 표현이 가능하게 되는 것이다. 

다시 정리하면 자료(정보)는 숫자인데, 이건 전기적 신호형태로 존재할 것이고, 메모리에 보관되는데, 이걸 나중에 꺼내서 써야되니까 관리를 해야한다. 그래서 보통 번호를 사용한다. (목욕탕 사물함처럼) 메모리도 이것과 비슷하게 돌아간다. 네모가 하나 있으면 이거에 저장할 수 있는 공간은 1byte라고 하자. 이 박스의 번호를 0~42.95억까지 붙이게 되는데, 이때 컴퓨터는 이 박스번호를 16진수로 나타내게 된다. 이 박스를 메모리라고 하고, 박스번호가 주소가 된다. 

#### Constant and Variable

> Variable: 아직 확정되지 않은 숫자 (프로그래밍하는 사람 입장에서)

> Constant: 확정된 숫자 (변화할 일도 없다.)

Variable은 실행해야지 결정이 난다. C언어에서 보통 변수는 어떻게 구현되는지 살펴보자. 보통 본질은 메모리다. 나중에 변수를 식별하기 위해 이름을 붙이게 되는데, 본질은 메모리다. 메모리는 주소라는걸 가지고 있고, 그 안에 있는 정보는 데이터이다. 일정길이의 메모리에 저장되어있는 데이터를 해석하는 방법이 자료형인데, 거기에 붙은 이름을 변수라고한다. 사용에 앞서서 반드시 Declaration 선행이 필수다.

Constant중에서 Literal Constant를 생각해보자. 컴퓨터에선 모든게 숫자인데, 이 숫자의 나열을 어떻게 부르겠다고 약속을 하곤한다. 이걸 부호체계라고 한다. 나중에 부호체계를 통일하기 위해 나온게 ASCII라고 하는데, 이게 7bit 부호체계다. 그럼 2^7이니까 128개(영문대소, 숫자, 특수문자) 사용에 대한 약속을 했는데, 나중에 +1bit 추가해서 8bit -> 8byte가 되었다. 그래서 메모리가 관리될 때 최소단위가 8byte다. 

UCS-16은 Windows에서 사용하고 있는데, 우리 한글의 한글자 표현하는데 16bit를 쓴다. 이건 나중에 보자.

자료는 숫자고, 변하냐 변하지 않느냐에 따라서 변수 or 상수가 되고, 크게보면 둘다 수(자료)인데, 정수와 실수로 나눠지고, 정수에서 부호를 고려하는지 안 고려하는지로 나뉜다. 여기서 부호를 고려하는 8bit형식을 문자형식이라고 이야기한다. -> Character type에 대한 설명 (어떤 숫자를 글자로 매핑하기로 약속했기 때문에 가능한 것이지)

그냥 종이컵이 '커피 한잔'인 이유는 그 안에 '커피'가 있기 때문이다.

신기한건 함수도 함수형이라는 자료형이 있다. 

<br>

#### void

없는걸 없다고 말하는 것이다. 빈칸은 생략 또는 없는 것이다. 이때 없다는걸 뜻할 때 void를 쓴다. 우린 "없다"라고 하는걸 영어는 ""없음"이 있다"라고 말한다. 영어의 언어적 특징때문에 어느 위치를 절대적으로 말하는게 아니라 상대적으로 말하는 경우가 많다. 그래서 컴퓨터에서 실제적으로 주소를 논할때도 상대적으로 표현하곤한다. 아무튼 void는 공간도 아니어서 빈공간이라고 할수도 없고 그냥 없는거다.

<br>

#### 보수와 음수표현 (Complement and Negative Expression)

뺄셈은 보수를 구해서 (2의 보수 = 1의 보수 + 1) 더한 것이다. (자리올림 가져다 버리면 뺄셈 완성)

1을 음수로 만들어보자. 0001 -> 1110 + 1 -> 1111 (2의 보수 완성) 이렇게 해서 1111을 -1으로 볼 수 있지만 15라고 볼 수도 있다. 이런 경우 이걸 -1로 볼 것이냐, 15로 볼 것이냐는 (어떤 의미로 해석하느냐) 부호의 개념이 있는지 없는지, 즉 자료형에 따라서 달라지게 된다는 것이다. 

<br>

#### 변수이름

마음대로 해라. 단 의미가 꼭 있어야한다. 귀찮다고 막 짓는 습관은 진짜 안좋은 습관이다. 변수 이름만 보고도 느낌이 오도록 만들어주는게 좋다. 옛날에는 선언부 정의부 나눠져있었는데 C99까지는 이랬지만 이제는 그냥 코드 중간중간 변수 만들어도 C에서도 에러안난다.

변수를 이루고있는건 여러개가 있지만 강사님이 꼭 기억하라고 한건, 변수는 "메모리"라는 것, 그래서 주소를 가지고있는데 변수선언할 때는 이름을 붙인다. 그래서 이 이름을 identifier(식별자)라고 한다. 정리하면 변수는 이름이 있고, 주소가 있고, 그 안에 담겨있는 값이 있다. 그리고 그 값하고 메모리 공간은 쌍이 많아야 한다. 예를들어 소주잔에 밥먹을 수 있고 맥주는 뚝배기에 먹을 수 있지만 적절하진 않다. 결국 값, 자료라고 하는건 맞는 그릇에 넣어야한다. 변수마다 맞는 형식이 있고 그 형식마다 넣을 수 있는 적절한 상수가 있다. 즉 형식이 맞아야 한다는 것이다.

<br>

#### 새로운 자료형

C99에 새로운 자료형이 하나 등장했다. 그게 뭘까? long long int 형식이다. 이건 명백히 64bit integer 형식이다. 나중에 printf로 출력할떄는 `%lld`로 찍어주면 출력된다. 

<br>

#### 부동소수점

- float 형식: 단 정도
- double 형식: 배 정도
- long double 형식: 특수 정도 -> 지원을 안하는 컴파일러들이 꽤 많다고 한다. 79bit로 표현된다. (120bit 아닙니다.)

외우고 넘어갈게 있다.  실수형식(부동소수점형식)은 근본적으로 오차를 가지고 있다. 오차가 생기는 이유는 메모리 공간을 초과하지 않기위해 근사값 처리를 하기 때문이다. Float형식의 경우 이런 오차가 생각보다 크다. float은 소수점 이하 6자리, double은 소수점 이하 15자리이다. 이거는 외워야한다. 모르면 잘못하다가 뉴스에 나올수도 있다.

```c
#include <stdio.h>

int main(void){
    123.0;		// double type
    123.0F;		// float type
}
```

정말재밌는건 float 형식은 32bit 형식이다. 32bit로 계산기 한번 때려보면 2^31하면 21억 어쩌구 나온다. 근데 이 값을 %f로 해서 출력하면 당연히 그 값이 나온다. 근데 여기다가 -20을 하면 어떨까? 648이었던 끝자리가 628로 나오는게 맞겠다. 하지만 실행해보면 그냥 똑같이 나온다. 64까지 뺐는데도 그냥 똑같이 나온다. 이러면 오차가 64까지나도 인식이 안된다는 말이다. 65부터는 결과값이 변경한다. 하지만 이게 웃긴게 정수형의 경우, 1 다음이 2인게 당연하고 여기서의 폭이 1인거지만, 방금 본 float는 폭이 128이 되는 것이다. 그 안의 많은 숫자들은 그냥 근사화되는 것이어서 이러다보니 명백한 오차가 발생하는게 필연적이다. 그러니까 Float형식은 절대 쓰지 마라. 뉴스나간다는 이야기는 구글에 조선일보 나이스 오류라고 치면 옛날에 프로그램 오류가 나오는데, 그거보면 내신을 소수점 16자리까지 표시하도록 되어있는데, 부동소수점은 15자리까지 유효하기 때문에 내신성적 석차가 잘못나오게 되는 현상이 발생한게 나온다. 진짜 뉴스 나갈수도 있다.



#### 문자와 문자열 (문자배열)

문자열 상수라는 표현이 애매한 표현이다. 문자열은 엄밀히 말하면 문자배열이기 때문이다. 그리고 문자열 상수가 뜻하는건 상수화된 문자 배열을 의미한다. 똑같은 놈이 연속되면 배열이고 이질적인 애들이 연속되면 구조체다. 

배열 잠깐보면

변수이름은 변수에 붙은 식별자지만, 배열은 배열의 이름이 메모리의 주소가 된다는걸 기억하자. (이래서 string class에서 포인터로 한거구나)

무슨말을 하고싶은거냐면, 문자열의 본질은 배열이라는 것이다. (나중에 문자열 쓸때 메모리 윈도우 보는건 기본이다.)

문자열의 끝은 항상 null문자인걸 기억하자 ("\0") 12개 선언해놓고 12글자 쓰면 13번째에 null이 들어가보러니까 buffer overflow -> Crash -> Overrun가 뜰 수 있다. (원격코드 실행 결함) 항상 주의하고 "경계검사"라는 걸 해야한다. 

```c
#include <stdio.h>

int main(void){
    char buffer[12] = {'H', 'e', 'l', 'l'};		// character가 12개
    char buffer[12] = "HEll"					// 위에랑 똑같다.
    puts(buffer);								// Hell 잘 나옴
       
}
```

<br>

#### 이름과 주석문

C언어를 이루는 프로그램 코드는 그 자체로 하나의 문서다. 가독성이 뛰어나야한다. 가독성을 높이기 위해 주석문으로 설명들을 추가하면 좋다. Programming은 문화와 소통이 굉장히 중요하다. 변수이름 쓸 때 반드시 영어로 써야하는데, 비주얼 C는 된다.(신기하네) 근데 절대 이렇게 하지마라. 들여쓰기 잘해라.











```c

```

```c

```



